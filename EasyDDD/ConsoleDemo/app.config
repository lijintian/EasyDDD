<?xml version="1.0" encoding="utf-8"?>
<configuration>
<!--<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5"/></startup>-->
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
  </configSections>
  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <!--<alias alias="request" type="Microsoft.Practices.Unity.PerRequestLifetimeManager, Microsoft.Practices.Unity.Mvc" />-->


    <!--<alias alias="IEventBus" type="CK1.Framework.Infrastructure.Crosscutting.Events.IEventBus, CK1.Framework.Infrastructure.Crosscutting" />
  <alias alias="DefaultEventBus" type="CK1.Framework.Infrastructure.Crosscutting.Events.DefaultEventBus, CK1.Framework.Infrastructure.Crosscutting" />

  <alias alias="IEventAggregator" type="CK1.Framework.Infrastructure.Crosscutting.Events.IEventAggregator, CK1.Framework.Infrastructure.Crosscutting" />
  <alias alias="EventAggregator" type="CK1.Framework.Infrastructure.Crosscutting.Events.EventAggregator, CK1.Framework.Infrastructure.Crosscutting" />-->

    <alias alias="IIdentityGenerator" type="EasyDDD.Core.IdGenerator.IIdentityGenerator, EasyDDD.Core" />
    <alias alias="MongoDBStringObjectIdGenerator" type="EasyDDD.Infrastructure.Data.MongoDB.MongoDBStringObjectIdGenerator, EasyDDD.Infrastructure.Data.MongoDB" />

    <alias alias="IRepositoryContext" type="EasyDDD.Core.Repository.IRepositoryContext, EasyDDD.Core" />
    <alias alias="MongoDBRepositoryContext" type="EasyDDD.Infrastructure.Data.MongoDB.MongoDBRepositoryContext, EasyDDD.Infrastructure.Data.MongoDB" />
    <alias alias="IMongoDBRepositoryContext" type="EasyDDD.Infrastructure.Data.MongoDB.IMongoDBRepositoryContext, EasyDDD.Infrastructure.Data.MongoDB" />

    <alias alias="IMapping" type="EasyDDD.Core.IMapping,EasyDDD.Core" />
    <alias alias="Mapping" type="ConsoleDemo.Mapping,ConsoleDemo" />



    <container>
      <!--<register type="IEventBus" mapTo="DefaultEventBus">
    </register>-->

      <register type="IMapping" mapTo="Mapping"/>


      <!--<register type="IEventAggregator" mapTo="EventAggregator">
    </register>-->

      <register type="IIdentityGenerator" mapTo="MongoDBStringObjectIdGenerator">
        <lifetime type="singleton" />
      </register>
      <register type="IRepositoryContext" mapTo="MongoDBRepositoryContext">
        <constructor>
          <param name="name" value="TestDB">
          </param>
        </constructor>
      </register>
      <register type="IMongoDBRepositoryContext" mapTo="MongoDBRepositoryContext">
        <constructor>
          <param name="name" value="TestDB">
          </param>
        </constructor>
      </register>


    </container>
  </unity>
  <!--Step:配置数据库连接字符串-->
  <connectionStrings>
    <add name="TestDB" connectionString="you connection string"/>
  </connectionStrings>
</configuration>
